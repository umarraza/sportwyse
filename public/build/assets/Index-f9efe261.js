import{d as n,$ as T,L as O,s as A,o as h,c as N,w as m,a as e,b as d,f as U,k as B,u as p,p as c,z as k,A as L,v as u,e as P,i as z,t as a,F as C,O as V}from"./app-18a9957e.js";import{T as _}from"./VueSearchSelect-089e00ed.js";import F from"./AppLayout-56e751b8.js";import{P as E}from"./Pagination-8f8222d9.js";import $ from"./CancelButton-0a818aac.js";import"./Banner-7cea8ba6.js";import"./Sidebar-646431b3.js";import"./Header-26adc9d5.js";import"./DropdownLink-437aa870.js";import"./_plugin-vue_export-helper-c27b6911.js";const j={class:"row"},M={class:"col-md-12"},q={class:"card"},R={class:"card-header"},H=e("h4",{class:"pl-2"},[e("i",{class:"fas fa-edit"}),U(" Batch Update Transactions")],-1),G={class:"card-header-right"},J={class:"card-body"},K=["onSubmit"],Q={class:"row mt-5"},W={class:"col-md-4"},X={class:"form-group"},Y=e("label",{class:"col-form-label"},"Search Event",-1),Z={class:"col-md-4"},ee={class:"form-group"},se=e("label",{class:"col-form-label"},"Search Player",-1),te={class:"col-md-4"},le={class:"form-group"},oe=e("label",{class:"col-form-label"},"From Date",-1),ne={class:"col-md-4"},ae={class:"form-group"},ie=e("label",{class:"col-form-label"},"To Date",-1),de={class:"col-md-4"},ce={class:"form-group"},re=e("label",{class:"col-form-label"},"From Amount",-1),ue={class:"col-md-4"},me={class:"form-group"},pe=e("label",{class:"col-form-label"},"To Amount",-1),_e={class:"col-md-4"},ve={class:"form-group"},ye=e("label",{class:"col-form-label"},"Paginate By Size",-1),he=e("option",{value:""},"(none)",-1),fe=e("option",{value:"10"},"10",-1),ge=e("option",{value:"100"},"100",-1),be=e("option",{value:"200"},"200",-1),Ae=e("option",{value:"300"},"300",-1),Be=e("option",{value:"400"},"400",-1),ke=e("option",{value:"500"},"500",-1),Pe=e("option",{value:"700"},"700",-1),Ve=e("option",{value:"900"},"900",-1),Ee=e("option",{value:"1000"},"1000",-1),Ue=[he,fe,ge,be,Ae,Be,ke,Pe,Ve,Ee],De={class:"row mt-2"},Se={class:"col-md-4"},Ie={class:"custom-control custom-checkbox"},xe=e("label",{class:"custom-control-label",for:"allUnAssigned"},"All Un Assigned",-1),we={class:"col-md-4"},Te={class:"custom-control custom-checkbox"},Oe=e("label",{class:"custom-control-label",for:"allAssigned"},"All Assigned",-1),Ne={class:"col-md-4"},Le={class:"custom-control custom-checkbox"},ze=e("label",{class:"custom-control-label",for:"unAssignedByEvent"},"Un Assigned (By Event)",-1),Ce={class:"row mt-3"},Fe={class:"col-md-4"},$e={class:"custom-control custom-checkbox"},je=e("label",{class:"custom-control-label",for:"assignedByEvent"},"Assigned (By Event)",-1),Me={class:"col-md-4"},qe={class:"custom-control custom-checkbox"},Re=e("label",{class:"custom-control-label",for:"unAssignedByPlayer"},"Un Assigned (By Player)",-1),He={class:"col-md-3"},Ge={class:"custom-control custom-checkbox"},Je=e("label",{class:"custom-control-label",for:"assignedByPlayer"},"Assigned (By Player)",-1),Ke={class:"row mt-3"},Qe={class:"col-md-12"},We=["onClick"],Xe={class:"row mt-5"},Ye={class:"col-md-12"},Ze={class:"table-responsive b-0","data-pattern":"priority-columns"},es={class:"table table-xs table-striped"},ss=e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Customer Email"),e("th",null,"Event Name (New)"),e("th",null,"Player Name (New)"),e("th",null,"Event Name (Old)"),e("th",null,"Player Name (Old)"),e("th",null,"Status"),e("th",null,"Created Date"),e("th",null,"Customer ID"),e("th",null,"Invoice Number"),e("th",null,"Amount"),e("th",null,"Payment Intent ID"),e("th",null,"Statement Descriptor"),e("th",null,"Customer Description")])],-1),ts=["innerHTML"],ls={class:"row mt-5"},os={class:"col-md-6"},ns={class:"form-group"},as=e("label",{class:"col-form-label"},"Select Event",-1),is={class:"col-md-6"},ds={class:"form-group"},cs=e("label",{class:"col-form-label"},"Select Player",-1),rs={class:"form-group text-right mt-3"},us=["disabled"],Bs={__name:"Index",props:{filters:Object,campsOptions:Object,playersOptions:Object,transactions:Object,uniqueEvents:Object,uniquePlayers:Object},setup(r){const o=r,v=n(""),y=n(""),s=T({toDate:n(o.filters.toDate),fromDate:n(o.filters.fromDate??""),toAmount:n(o.filters.toAmount??""),fromAmount:n(o.filters.fromAmount),playerId:n(o.filters.playerId?parseInt(o.filters.playerId):""),eventId:n(o.filters.eventId?parseInt(o.filters.eventId):""),paginateBySize:n(o.filters.paginateBySize??100),allUnAssigned:n(o.filters.allUnAssigned??!1),unAssignedByEvent:n(o.filters.unAssignedByEvent??!1),unAssignedByPlayer:n(o.filters.unAssignedByPlayer??!1),allAssigned:n(o.filters.allAssigned??!1),assignedByPlayer:n(o.filters.assignedByPlayer??!1),assignedByEvent:n(o.filters.assignedByEvent??!1)});O(s,()=>{D()},{deep:!0});const D=()=>{V.get("/transactions/index",s,{preserveState:!0,preserveScroll:!0,replace:!0})},S=()=>{s.eventId="",s.playerId="",s.fromDate="",s.toDate="",s.fromAmount="",s.toAmount="",s.paginateBySize="",s.allUnAssigned=!1,s.unAssignedByEvent=!1,s.unAssignedByPlayer=!1,s.allAssigned=!1,s.assignedByPlayer=!1,s.assignedByEvent=!1},I=i=>i.user?`${i.user.first_name} ${i.user.last_name}`:"-",f=(i,l)=>{setTimeout(()=>{},10)},x=()=>{const i={eventId:s.eventId,playerId:s.playerId,camp_id:v.value,player_id:y.value,fromAmount:s.fromAmount,toAmount:s.toAmount,fromDate:s.fromDate,toDate:s.toDate,paginateBySize:s.paginateBySize,allUnAssigned:s.allUnAssigned,unAssignedByEvent:s.unAssignedByEvent,unAssignedByPlayer:s.unAssignedByPlayer,allAssigned:s.allAssigned,assignedByPlayer:s.assignedByPlayer,assignedByEvent:s.assignedByEvent};console.log(i),V.post(route("transaction-batch.update"),i,{preserveScroll:!0,onSuccess:()=>Promise.all([])})};return(i,l)=>{const w=A("BackToList"),g=A("VueDatePicker");return h(),N(F,{title:"Batch Update Transactions"},{default:m(()=>[e("div",j,[e("div",M,[e("div",q,[e("div",R,[H,e("div",G,[d(w,{backToListRoute:i.route("stripe.index"),class:"mr-1"},{default:m(()=>[U(" Back")]),_:1},8,["backToListRoute"])])]),e("div",J,[e("form",{onSubmit:B(x,["prevent"])},[e("div",Q,[e("div",W,[e("div",X,[Y,d(p(_),{options:r.uniqueEvents,modelValue:s.eventId,"onUpdate:modelValue":l[0]||(l[0]=t=>s.eventId=t),placeholder:"Search Event"},null,8,["options","modelValue"])])]),e("div",Z,[e("div",ee,[se,d(p(_),{options:r.uniquePlayers,modelValue:s.playerId,"onUpdate:modelValue":l[1]||(l[1]=t=>s.playerId=t),placeholder:"Search Player"},null,8,["options","modelValue"])])]),e("div",te,[e("div",le,[oe,d(g,{position:"left","enable-time-picker":!1,modelValue:s.fromDate,"onUpdate:modelValue":l[2]||(l[2]=t=>s.fromDate=t),"auto-apply":"",placeholder:"From Date"},null,8,["modelValue"])])]),e("div",ne,[e("div",ae,[ie,d(g,{position:"left","enable-time-picker":!1,modelValue:s.toDate,"onUpdate:modelValue":l[3]||(l[3]=t=>s.toDate=t),"auto-apply":"",placeholder:"To Date"},null,8,["modelValue"])])]),e("div",de,[e("div",ce,[re,c(e("input",{type:"number",placeholder:"From Amount","onUpdate:modelValue":l[4]||(l[4]=t=>s.fromAmount=t),class:"form-control"},null,512),[[k,s.fromAmount]])])]),e("div",ue,[e("div",me,[pe,c(e("input",{type:"number",placeholder:"To Amount","onUpdate:modelValue":l[5]||(l[5]=t=>s.toAmount=t),class:"form-control"},null,512),[[k,s.toAmount]])])]),e("div",_e,[e("div",ve,[ye,c(e("select",{class:"form-control","onUpdate:modelValue":l[6]||(l[6]=t=>s.paginateBySize=t)},Ue,512),[[L,s.paginateBySize]])])])]),e("div",De,[e("div",Se,[e("div",Ie,[c(e("input",{type:"checkbox",class:"custom-control-input",id:"allUnAssigned","onUpdate:modelValue":l[7]||(l[7]=t=>s.allUnAssigned=t),"data-parsley-multiple":"groups","data-parsley-mincheck":"2"},null,512),[[u,s.allUnAssigned]]),xe])]),e("div",we,[e("div",Te,[c(e("input",{type:"checkbox",class:"custom-control-input",id:"allAssigned","onUpdate:modelValue":l[8]||(l[8]=t=>s.allAssigned=t),"data-parsley-multiple":"groups","data-parsley-mincheck":"2"},null,512),[[u,s.allAssigned]]),Oe])]),e("div",Ne,[e("div",Le,[c(e("input",{type:"checkbox",class:"custom-control-input",id:"unAssignedByEvent","onUpdate:modelValue":l[9]||(l[9]=t=>s.unAssignedByEvent=t),"data-parsley-multiple":"groups","data-parsley-mincheck":"2"},null,512),[[u,s.unAssignedByEvent]]),ze])])]),e("div",Ce,[e("div",Fe,[e("div",$e,[c(e("input",{type:"checkbox",class:"custom-control-input",id:"assignedByEvent","onUpdate:modelValue":l[10]||(l[10]=t=>s.assignedByEvent=t),"data-parsley-multiple":"groups","data-parsley-mincheck":"2"},null,512),[[u,s.assignedByEvent]]),je])]),e("div",Me,[e("div",qe,[c(e("input",{type:"checkbox",class:"custom-control-input",id:"unAssignedByPlayer","onUpdate:modelValue":l[11]||(l[11]=t=>s.unAssignedByPlayer=t),"data-parsley-multiple":"groups","data-parsley-mincheck":"2"},null,512),[[u,s.unAssignedByPlayer]]),Re])]),e("div",He,[e("div",Ge,[c(e("input",{type:"checkbox",class:"custom-control-input",id:"assignedByPlayer","onUpdate:modelValue":l[12]||(l[12]=t=>s.assignedByPlayer=t),"data-parsley-multiple":"groups","data-parsley-mincheck":"2"},null,512),[[u,s.assignedByPlayer]]),Je])])]),e("div",Ke,[e("div",Qe,[e("button",{class:"btn btn-primary waves-effect ml-1 waves-light",onClick:B(S,["prevent"])},"Reset Filters",8,We)])]),e("div",Xe,[e("div",Ye,[d(E,{links:r.transactions.links},null,8,["links"]),e("div",Ze,[e("table",es,[ss,e("tbody",null,[(h(!0),P(C,null,z(r.transactions.data,(t,b)=>(h(),P("tr",{key:b},[e("td",null,a(b+1),1),e("td",null,a(t.customer_email),1),e("td",null,a(t.camp.name??"-"),1),e("td",null,a(I(t.player)),1),e("td",null,a(t.event_name??"-"),1),e("td",null,a(t.description??"-"),1),e("td",{innerHTML:t.status_lebel},null,8,ts),e("td",null,a(t.date_label),1),e("td",null,a(t.customer_id),1),e("td",null,a(t.invoice_number),1),e("td",null,a(t.amount),1),e("td",null,a(t.payment_intent_id),1),e("td",null,a(t.statement_descriptor),1),e("td",null,a(t.customer_description),1)]))),128))])])]),d(E,{links:r.transactions.links},null,8,["links"])])]),e("div",ls,[e("div",os,[e("div",ns,[as,d(p(_),{options:r.campsOptions,modelValue:v.value,"onUpdate:modelValue":l[13]||(l[13]=t=>v.value=t),placeholder:"Select Event",onBlur:l[14]||(l[14]=t=>f(i.index,i.item))},{default:m(({option:t})=>[e("span",null,a(t.text),1)]),_:1},8,["options","modelValue"])])]),e("div",is,[e("div",ds,[cs,d(p(_),{options:r.playersOptions,modelValue:y.value,"onUpdate:modelValue":l[15]||(l[15]=t=>y.value=t),placeholder:"Select Player",onBlur:l[16]||(l[16]=t=>f(i.index,i.item))},{default:m(({option:t})=>[e("span",null,a(t.text),1)]),_:1},8,["options","modelValue"])])])]),e("div",rs,[d($,{routeLink:i.route("stripe.index")},null,8,["routeLink"]),e("button",{type:"submit",disabled:s.allAssigned==="true",class:"btn btn-primary waves-effect ml-1 waves-light"},"Update",8,us)])],40,K)])])])])]),_:1})}}};export{Bs as default};
