import{d as r,G as x,H as M,s as N,o as c,c as O,w as C,a as t,t as a,b as h,f as D,x as P,u as w,p as F,A as T,e as u,i as f,F as b}from"./app-829f4a20.js";import Y from"./AppLayout-6747b03f.js";import L from"./Create-ee50cc93.js";import"./Banner-a74a72e4.js";import"./Sidebar-5c8a8614.js";import"./Header-d09709fb.js";import"./DropdownLink-4c77cc91.js";import"./VueSearchSelect-b66bf8eb.js";const B={class:"row"},I={class:"col-12"},j={class:"card m-b-30"},U={class:"card-header"},E={class:"pl-2"},R={class:"card-header-right"},G=t("button",{type:"button",class:"btn btn-success waves-effect waves-light","data-toggle":"modal","data-target":".add-transaction-modal"},[t("i",{class:"fas fa-plus"}),D(" Add Payment")],-1),H={class:"card-body"},z={class:"row"},K={class:"col-md-12 text-center"},Q={class:"row mt-5"},W={class:"col-md-4"},X={class:"form-group"},Z=t("label",{for:"year",class:"col-form-label"},"Select Year",-1),tt=t("option",{value:""},"Select Year",-1),et=["value"],at={class:"col-md-4"},ot={class:"form-group"},st=t("label",{class:"col-form-label"},"From Date",-1),lt={class:"col-md-4"},dt={class:"form-group"},nt=t("label",{class:"col-form-label"},"To Date",-1),it={class:"row mt-5"},rt={class:"col-md-12"},ct={class:"table-responsive b-0","data-pattern":"priority-columns"},ut={id:"tech-companies-1",class:"table table-striped"},mt=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Jan"),t("th",null,"Feb"),t("th",null,"Mar"),t("th",null,"Apr"),t("th",null,"May"),t("th",null,"Jun"),t("th",null,"Jul"),t("th",null,"Aug"),t("th",null,"Sep"),t("th",null,"Oct"),t("th",null,"Nov"),t("th",null,"Dec")])],-1),_t=["href"],ht=["onClick","data-target"],pt=["onClick","data-target"],vt=["onClick","data-target"],gt=["onClick","data-target"],ft=["onClick","data-target"],bt=["onClick","data-target"],$t=["onClick","data-target"],kt=["onClick","data-target"],yt=["onClick","data-target"],Ct=["onClick","data-target"],wt=["onClick","data-target"],Dt=["onClick","data-target"],Vt=["id"],At={class:"modal-dialog modal-xl"},Jt={class:"modal-content"},St={class:"modal-header"},qt={class:"modal-title mt-0",id:"mySmallModalLabel"},xt=t("button",{type:"button",class:"close modal-close-btn","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"Ã—")],-1),Mt={class:"modal-body"},Nt={class:"table table-striped"},Ot=t("thead",null,[t("tr",null,[t("th",null,"Transaction Date"),t("th",null,"Amount"),t("th",null,"Payment Method")])],-1),Pt=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close")],-1),Et={__name:"Players",props:{team:{type:Object,required:!0},camp:{type:Object,required:!0},players:{type:Object,required:!0},yearDiff:{type:Number,required:!0},propYears:{type:Array,required:!0},from_date:{type:String,required:!1},to_date:{type:String,required:!1},campsOptions:{type:Array,required:!0}},setup(m){const d=m,p=r(d.players),v=r(""),V=r(d.yearDiff),$=r(d.propYears),A=d.players.map(o=>({value:o.id,text:o.first_name+" "+o.last_name})),l=x({year:r(""),from_date:r(d.from_date),to_date:r(d.to_date),requireJson:r(!0)});M(l,()=>{l.to_date===null&&(v.value=""),J()},{deep:!0});const J=async()=>{const o=await axios.get(route("club.player.reports",[d.camp.id,d.team.id]),{params:l});p.value=o.data.players,V.value=o.data.yearDiff,$.value=o.data.propYears},S=async()=>{if(v.value){const o={from_date:d.from_date,to_date:d.to_date,year:v.value,requireJson:!0},i=await axios.get(route("club.player.reports",[d.camp.id,d.team.id]),{params:o});p.value=i.data}};let k=r([]);const y=r(""),n=async(o,i)=>{y.value=i;const _=await axios.get(route("club.reports.players.payments",{player_id:o.id,camp_id:o.camp_id,month:i,year:l.to_date!==null?l.year:"",from_date:l.from_date,to_date:l.to_date}));k.value=_.data};return(o,i)=>{const _=N("VueDatePicker");return c(),O(Y,{title:"Players"},{default:C(()=>[t("div",B,[t("div",I,[t("div",j,[t("div",U,[t("h4",E,a(m.team.name),1),t("div",R,[h(P,{backToListRoute:o.route("club.reports"),class:"mr-1"},{default:C(()=>[D(" Back")]),_:1},8,["backToListRoute"]),G,h(L,{propPlayerOptions:w(A),propCampId:m.camp.id,propTeamId:m.team.id},null,8,["propPlayerOptions","propCampId","propTeamId"])])]),t("div",H,[t("div",z,[t("div",K,[t("h4",null,"Event Name: "+a(m.camp.name),1)])]),t("div",Q,[t("div",W,[t("div",X,[Z,F(t("select",{class:"form-control form-select","onUpdate:modelValue":i[0]||(i[0]=e=>l.year=e),onChange:S},[tt,(c(!0),u(b,null,f($.value,(e,g)=>(c(),u("option",{value:e,key:g},a(e),9,et))),128))],544),[[T,l.year]])])]),t("div",at,[t("div",ot,[st,h(_,{position:"left","enable-time-picker":!1,modelValue:l.from_date,"onUpdate:modelValue":i[1]||(i[1]=e=>l.from_date=e),"auto-apply":"",placeholder:"From Date"},null,8,["modelValue"])])]),t("div",lt,[t("div",dt,[nt,h(_,{position:"left","enable-time-picker":!1,modelValue:l.to_date,"onUpdate:modelValue":i[2]||(i[2]=e=>l.to_date=e),"auto-apply":"",placeholder:"To Date"},null,8,["modelValue"])])])]),t("div",it,[t("div",rt,[t("div",ct,[t("table",ut,[mt,t("tbody",null,[(c(!0),u(b,null,f(p.value,(e,g)=>(c(),u("tr",{key:g},[t("td",null,[t("a",{href:o.route("club.players.details",e.id),target:"_blank"},a(`${e.first_name} ${e.last_name}`),9,_t)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"Jan"),"data-target":`#view-payment-${e.id}`}," $"+a(e.Jan),9,ht)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"Feb"),"data-target":`#view-payment-${e.id}`}," $"+a(e.Feb),9,pt)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"Mar"),"data-target":`#view-payment-${e.id}`}," $"+a(e.Mar),9,vt)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"Apr"),"data-target":`#view-payment-${e.id}`}," $"+a(e.Apr),9,gt)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"May"),"data-target":`#view-payment-${e.id}`}," $"+a(e.May),9,ft)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"Jun"),"data-target":`#view-payment-${e.id}`}," $"+a(e.Jun),9,bt)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"Jul"),"data-target":`#view-payment-${e.id}`}," $"+a(e.Jul),9,$t)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"Aug"),"data-target":`#view-payment-${e.id}`}," $"+a(e.Aug),9,kt)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"Sep"),"data-target":`#view-payment-${e.id}`}," $"+a(e.Sep),9,yt)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"Oct"),"data-target":`#view-payment-${e.id}`}," $"+a(e.Oct),9,Ct)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"Nov"),"data-target":`#view-payment-${e.id}`}," $"+a(e.Nov),9,wt)]),t("td",null,[t("a",{href:"#","data-toggle":"modal",onClick:s=>n(e,"Dec"),"data-target":`#view-payment-${e.id}`}," $"+a(e.Dec),9,Dt)]),t("div",{class:"modal fade",id:`view-payment-${e.id}`,tabindex:"-1",role:"dialog","aria-labelledby":"mySmallModalLabel","aria-hidden":"true"},[t("div",At,[t("div",Jt,[t("div",St,[t("h5",qt,a(e.first_name)+" "+a(e.last_name)+" - "+a(y.value),1),xt]),t("div",Mt,[t("table",Nt,[Ot,t("tbody",null,[(c(!0),u(b,null,f(w(k),(s,q)=>(c(),u("tr",{key:q},[t("td",null,a(s.date),1),t("td",null,a(s.amount),1),t("td",null,a(s.payment_type),1)]))),128))])])]),Pt])])],8,Vt)]))),128))])])])])])])])])])]),_:1})}}};export{Et as default};
