import{T as S,d as F,M as P,s as V,o as a,c as m,w as h,f as C,a as s,b as _,x as A,e as c,j as x,u as l,t as r,p as N,A as $,F as M,g as b,l as j,k as B}from"./app-365665b1.js";import D from"./AppLayout-9cef5a10.js";import{s as G}from"./vue-multiselect.esm-ee6dae6c.js";import"./Banner-4d349501.js";import"./Sidebar-ace67fa3.js";import"./Header-5ba95090.js";import"./DropdownLink-226527ff.js";const L={class:"row"},O={class:"col-12"},T={class:"card m-b-30"},U={class:"card-header"},q=s("h4",{class:"pl-4"},"Add Players",-1),E={class:"card-header-right"},R={class:"card-body"},J={class:"col-md-6"},W={class:"form-group"},z=s("label",{class:"col-form-label"},"Name",-1),H={class:"txt-danger"},I={class:"col-md-6"},K={class:"form-group"},Q=s("label",{class:"col-form-label"},"Status",-1),X=["onUpdate:modelValue"],Y=s("option",{value:"Primary"},"Primary",-1),Z=s("option",{value:"Guest"},"Guest",-1),ss=[Y,Z],es={class:"col-md-12"},ts={class:"table table-xs"},os=s("th",{class:"p0-th"},"Gender",-1),as={style:{width:"65% !important"},class:"p0-th"},ls=s("th",{class:"p0-th"},"Parent Name",-1),ns={style:{width:"65% !important"},class:"p0-th"},cs=s("th",{class:"p0-th"},"Parent Email",-1),rs={style:{width:"65% !important"},class:"p0-th"},is=s("th",{class:"p0-th"},"Status",-1),ds={style:{width:"65% !important"},class:"p0-th"},_s={key:0,class:"badge badge-success"},us={key:1,class:"badge badge-info"},ps=s("i",{class:"fas fa-plus"},null,-1),ms={class:"row"},hs={class:"col-md-12 text-right"},bs=["disabled","onClick"],Fs={__name:"Add",props:{players:{type:Object,required:!0},team:{type:Object,required:!0},errors:{type:Object,required:!1}},setup(u){const i=u,o=S({id:1,name:"JavaScript",playerForms:[]}),f=i.players.map(e=>({id:e.id,name:e.user.name,gender:e.gender,parent_email:e.guardian.user.email,parent_name:e.guardian.user.first_name+" "+e.guardian.user.last_name+" "+e.id})),y=F({info:"",status:"Primary"});P(()=>{o.playerForms.push(y.value)});const g=()=>{o.playerForms.push({info:"",status:"Primary"})},v=e=>{o.playerForms.filter(d=>d.info.id===e.id).length>1&&(alert("Duplicate player selected!"),o.playerForms.pop())},k=()=>{i.errors={},o.post(route("club.teams.players.store",i.team.id),{onFinish:e=>{console.log(e)}})};return(e,w)=>{const d=V("SuccessAlert");return a(),m(D,{title:"Camps"},{default:h(()=>[e.$page.props.flash.success?(a(),m(d,{key:0,message:e.$page.props.flash.success},null,8,["message"])):C("",!0),s("div",L,[s("div",O,[s("div",T,[s("div",U,[q,s("div",E,[_(A,{backToListRoute:e.route("club.teams.index"),class:"btn btn-primary"},null,8,["backToListRoute"])])]),s("div",R,[(a(!0),c(M,null,x(l(o).playerForms,(t,p)=>(a(),c("div",{class:"row add-team-box mt-5",key:p},[s("div",J,[s("div",W,[z,_(l(G),{modelValue:t.info,"onUpdate:modelValue":n=>t.info=n,"custom-label":e.nameWithLang,onSelect:n=>v(t),options:l(f),"close-on-select":!0,"clear-on-select":!1,placeholder:"Select one",label:"name","track-by":"name"},null,8,["modelValue","onUpdate:modelValue","custom-label","onSelect","options"]),s("div",H,r(u.errors[`players.${p}.id`]),1)])]),s("div",I,[s("div",K,[Q,N(s("select",{class:"custom-select","onUpdate:modelValue":n=>t.status=n},ss,8,X),[[$,t.status]])])]),s("div",es,[s("table",ts,[s("tr",null,[os,s("td",as,r(t.info.gender),1)]),s("tr",null,[ls,s("td",ns,r(t.info.parent_name),1)]),s("tr",null,[cs,s("td",rs,r(t.info.parent_email),1)]),s("tr",null,[is,s("td",ds,[t.status==="Primary"?(a(),c("span",_s,"Primary")):(a(),c("span",us,"Guest"))])])])])]))),128)),s("div",{class:"row mt-3"},[s("div",{class:"col-md-12",style:{"padding-left":"0 !important"}},[s("button",{type:"button",class:"btn btn-info",onClick:g},[ps,b(" Add another player")])])]),s("div",ms,[s("div",hs,[_(l(j),{href:e.route("club.teams.index"),class:"btn btn-secondary mr-1"},{default:h(()=>[b(" Cancel ")]),_:1},8,["href"]),s("button",{type:"button",class:"btn btn-success",disabled:l(o).processing,onClick:B(k,["prevent"])},"Submit",8,bs)])])])])])])]),_:1})}}};export{Fs as default};
